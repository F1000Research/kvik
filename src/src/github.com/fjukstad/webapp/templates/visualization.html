{{ define "title" }}
    Pathway Visualizer
{{ end }}

{{ define "content" }}

<!--
<div class="jumbotron">
    <h2> 
        Visualizing the selected pathways
    </h2>
    <small>
    <ul class="list-inline">
        {{ range $index, $element := .Selection }}
        <li>{{$element}}</li> 
        {{end}}
    </ul>
    </small>
</div>
--->
<!--
<div id="image">
    <button onclick="savePathway()">Save as Image</button>        
</div>
-->


<div class="row">
    <div class="col-xs-12 col-sm-8 col-md-8" id="pathway">
        <div id="container">
                <div id="cy"> 
                </div>
        </div>
    </div>
    <div class="col-xs-4 col-sm-4 col-md-5">
        <div id="expression-view">
           <div id="info-panel">
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12 col-sm-6 col-md-8">    
    <!--
      <div class="btn-group btn-group-xs">
        <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
          Scale
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
          <li><a href="#">Absolute</a></li>
          <li><a href="#">Logarithmic</a></li>
        </ul>

        </div>
    -->
        <script>
            $(document).on("click", "#scalebtns", function(event){
            
                Pace.restart()

                scale = event.target.textContent;
                var log = scale.match(/log/i);
                var scale = ""                
                if(log) { 
                    scale = "log"
                }
                else { 
                    scale = "abs"
                } 

                setScale(scale)                     
                

            });
        </script>

        <div class="btn-group" data-toggle="buttons" id="scalebtns">
          <label class="btn btn-primary">
            <input type="radio" name="options" id="log"> Logarithmic
          </label>
          <label class="btn btn-primary">
            <input type="radio" name="options" id="abs"> Absolute
          </label>
        </div>

</div>
</div>



</div>
<div class="row">
    <div class="col-xs-12 col-sm-8 col-md-8" id="console">

    <style>
        #console { 
            background-color: #fff;
            margin-left:1em;
        }
        .cmd {
            background-color: #fff;
        }
    </style> 


        <script> 
    $(function($, undefined) {
        $('#console').terminal(function(command, term) {
           if (command == "help") { 
                term.echo("This is a unhelpful help message");
                return
            }
                console.log(command) 
                // WARNING, SENDING DIRECTLY TO DS 
                var url = "http://"+window.location.hostname+":8888/com"
                console.log("Sending to", url) 
                var a = {Command: command}
                console.log(a) 
                $.ajax({
                    url: url,
                    data: a,
                    success: function(d, txtstatus, jqxhdr){
                        console.log(d)
                        term.echo(d, { finalize: function(div){
                            div.css("color", "black"); 
                            }
                            });
                    },
                    async: false,
                    });
        }, {
            greetings: '',
            name: 'js_demo',
            height: 200,
            width: "100%",
            prompt: 'R> '});
    });
        </script> 
    </div> 
</div> 

    <script type="text/javascript" src="/js/info-man.js"></script>
    <script type="text/javascript" src="/js/vis-man.js"></script>
    <script type="text/javascript" src="/js/graph-interface.js"></script>
    <script type="text/javascript" src="/js/pathway_visualizer.js"></script>
    <script type="text/javascript" src="/js/benchmark.js"></script>
    <script type="text/javascript" src="/js/benchmarks.js"></script>

{{ end }}
